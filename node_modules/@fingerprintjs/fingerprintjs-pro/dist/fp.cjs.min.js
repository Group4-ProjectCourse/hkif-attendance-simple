/**
 * FingerprintJS Pro v3.5.3 - Copyright (c) FingerprintJS, Inc, 2021 (https://fingerprintjs.com)
 *
 * This software contains code from open-source projects:
 * MurmurHash3 by Karan Lyons (https://github.com/karanlyons/murmurHash3.js)
 */

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),t=require("@fingerprintjs/fingerprintjs");function n(e,t){return new Promise((function(n){return r(n,e,t)}))}function r(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Date.now()+t,o=0,a=function(){o=setTimeout((function(){Date.now()<i?a():e.apply(void 0,n)}),i-Date.now())};return a(),function(){return clearTimeout(o)}}function i(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a,s=!1,u=e,c=0,l=function(){s||a||(c=Date.now(),a=r((function(){s=!0,n.apply(void 0,i)}),u))},f=function(){!s&&a&&(a(),a=void 0,u-=Date.now()-c)};return t&&l(),{start:l,stop:f}}function o(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=document,a="visibilitychange",s=function(){return o.hidden?l():c()},u=i(t,!o.hidden,(function(){o.removeEventListener(a,s),e.apply(void 0,n)})),c=u.start,l=u.stop;return o.addEventListener(a,s),function(){o.removeEventListener(a,s),l()}}function a(e,t){return new Promise((function(n){return o(n,e,t)}))}function s(t,n){return e.__awaiter(this,void 0,void 0,(function(){var r;return e.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t()];case 1:return[2,e.sent()];case 2:return r=e.sent(),console.error(r),[2,n];case 3:return[2]}}))}))}function u(t,n){var r=this;return new Promise((function(i,o){var a=n(),s=!1;null==t||t.then(i,o).then((function(){return s=!0}));var u=function(t){return e.__awaiter(r,void 0,void 0,(function(){var n,r;return e.__generator(this,(function(e){switch(e.label){case 0:if(t.done)return[2,i(t.value)];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.value];case 2:if(n=e.sent(),!s)try{u(a.next(n))}catch(c){o(c)}return[3,4];case 3:if(r=e.sent(),!s)try{u(a.throw(r))}catch(c){o(c)}return[3,4];case 4:return[2]}}))}))};u(a.next())}))}function c(t,n){return e.__awaiter(this,void 0,void 0,(function(){var r,i,o,a;return e.__generator(this,(function(e){switch(e.label){case 0:try{r=n().then((function(e){return i=[!0,e]}),(function(e){return i=[!1,e]}))}catch(s){i=[!1,s]}return a=t.then((function(e){return o=[!0,e]}),(function(e){return o=[!1,e]})),[4,Promise.race([r,a])];case 1:return e.sent(),[2,function(){if(i){if(i[0])return i[1];throw i[1]}if(o){if(o[0])return o[1];throw o[1]}throw new Error("96375")}]}}))}))}function l(t,n){var r;return void 0===n&&(n=!1),e.__assign({name:t.name,message:t.message,stack:n?null===(r=t.stack)||void 0===r?void 0:r.split("\n"):t.stack},t)}function f(){var e=window;try{return e.self!==e.top}catch(t){return!0}}function d(t,n){var r;return e.__generator(this,(function(e){switch(e.label){case 0:r=0,e.label=1;case 1:return[4,Math.random()*Math.min(n,t*Math.pow(2,r))];case 2:e.sent(),e.label=3;case 3:return++r,[3,1];case 4:return[2]}}))}function v(e){return e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",h=g+"+/";function m(e,t){if(0==t.length||t.length>e.length)return-1;for(var n=0;n<e.length;n++){for(var r=0,i=0;i<t.length;i++){if(e[n+i]!==t[i]){r=0;break}r++}if(r==t.length)return n}return-1}function _(e){if("function"==typeof TextDecoder){var t=(new TextDecoder).decode(e);if(t)return t}var n=v(e);return decodeURIComponent(escape(String.fromCharCode.apply(null,n)))}function p(e){return e.reduce((function(e,t){return e+(t?1:0)}),0)}function b(e,t,n){return void 0===n&&(n="..."),e.length<=t?e:""+e.slice(0,Math.max(0,t-n.length))+n}function w(e,t){return(e-t+256)%256}function y(e){for(var t=v(e),n=t.length,r="",i=0;i<n;i+=3)r+=h[t[i]>>2]+h[(3&t[i])<<4|t[i+1]>>4]+h[(15&t[i+1])<<2|t[i+2]>>6]+h[63&t[i+2]];return n%3==2?r.slice(0,-1)+"=":n%3==1?r.slice(0,-2)+"==":r}function R(e){for(var t="",n=0;n<e.length;++n)if(n>0){var r=e[n].toLowerCase();r!==e[n]?t+=" "+r:t+=e[n]}else t+=e[n].toUpperCase();return t}function E(e){return void 0===e?void 0:""+e}function T(e,t){for(var n="",r=0;r<e;r++)n+=t.charAt(Math.random()*t.length);return n}function k(e){return T(e,g)}function S(){return 256*Math.random()|0}function I(e){var t=e.filter((function(e){return!!e}));return t.length?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=function(t){s((function(){return t.apply(void 0,e)}))},i=0,o=t;i<o.length;i++){var a=o[i];r(a)}}:void 0}function O(e){switch(e){case 0:return"Loading has started";case 1:return"Loading has succeeded";case 2:return"Loading has failed";case 3:return"Getting visitor identifier has started";case 4:return"Getting visitor identifier has succeeded";case 5:return"Getting visitor identifier has failed";case 6:return"Getting TLS has started";case 7:return"Getting TLS has succeeded";case 8:return"Getting TLS has failed";case 9:return"TLS request try has started";case 10:return"TLS request try has succeeded";case 11:return"TLS request try has failed";case 12:return"Getting fingerprint has started";case 13:return"Getting fingerprint has succeeded";case 14:return"Getting fingerprint has failed";case 15:return"Visitor identifier request has started";case 16:return"Visitor identifier request has succeeded";case 17:return"Visitor identifier request has failed";case 18:return"Visitor identifier request try has started";case 19:return"Visitor identifier request try has succeeded";case 20:return"Visitor identifier request try has failed"}}var A=function(e){return void 0===e&&(e="[FingerprintJS Pro] "),function(t){switch(t.e){case 2:case 5:case 8:case 11:case 14:case 17:case 20:console.error(C(e,t));break;case 13:var n=C(e,t),r=t.result;Object.keys(r).some((function(e){return r[e].error}))?console.warn(n):console.log(n);break;default:console.log(C(e,t))}}};function C(t,n){var r=n.e,i=e.__rest(n,["e"]),o=""+t+(new Date).toISOString()+": "+O(r);return Object.keys(i).length&&(o+="\n```\n"+function(e){return JSON.stringify(e,(function(e,t){return t instanceof Error?l(t,!0):t instanceof ArrayBuffer?"(base64) "+y(t):t}),2)}(i)+"\n```"),o}function D(e){void 0===e&&(e="[FingerprintJS Pro] ");var t={};return function(n){switch(n.e){case 15:t[n.getCallId]=n.request;break;case 18:console.log(e+"Visitor id request",t[n.getCallId]);break;case 19:console.log(e+"Visitor id response",n.body);break;case 16:case 17:delete t[n.getCallId]}}}function N(e){var t=e.url,n=e.method,r=void 0===n?"get":n,i=e.body,o=e.headers,a=e.withCredentials,s=void 0!==a&&a,u=e.timeout,c=e.responseFormat,l=e.abort;return new Promise((function(e,n){var a=new XMLHttpRequest;for(var f in a.open(r,t,!0),a.withCredentials=s,a.timeout=void 0===u?0:Math.max(u,1),"binary"===c&&(a.responseType="arraybuffer"),o)a.setRequestHeader(f,o[f]);a.onload=function(){return e(function(e){return{body:e.response,status:e.status,statusText:e.statusText}}(a))},a.ontimeout=function(){return n(P("TimeoutError","The request timed out"))},a.onabort=function(){return n(P("AbortError","The request is aborted"))},a.onerror=function(){return n(P("TypeError",navigator.onLine?"Connection error":"Network offline"))},a.send(function(e){var t,n=function(){try{return new Blob([]),!1}catch(t){return!0}};if(e instanceof ArrayBuffer){if(!n())return new Uint8Array(e)}else if((null===(t=e)||void 0===t?void 0:t.buffer)instanceof ArrayBuffer&&n())return e.buffer;return e}(i)),null==l||l.catch((function(){})).then((function(){a.onabort=null,a.abort()}))}))}function P(e,t){var n=new Error(t);return n.name=e,n}function x(e){var t,n=e.url,r=e.body;try{if(null===(t=navigator.sendBeacon)||void 0===t?void 0:t.call(navigator,n,r))return!0}catch(o){if("Illegal invocation"!==o.message)throw o}var i=new XMLHttpRequest;i.open("POST",n,!function(){var e,t=null===(e=window.event)||void 0===e?void 0:e.type;return"pagehide"===t||"unload"===t}()),r instanceof Blob&&i.setRequestHeader("Content-Type",r.type);try{i.send(r)}catch(a){return!1}return!0}function L(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&s((function(){var r=t.apply(void 0,n);void 0!==r&&e(r)}))}function j(t,n,r,i,o){return e.__awaiter(this,void 0,void 0,(function(){var a,s;return e.__generator(this,(function(e){switch(e.label){case 0:L(t,n),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,o()];case 2:return a=e.sent(),[3,4];case 3:throw s=e.sent(),L(t,i,s),s;case 4:return L(t,r,a),[2,a]}}))}))}function M(){var e=window,t=e.__fpjs_pvid;return e.__fpjs_pvid="string"==typeof t?t:k(10)}function q(t,n){for(var r={},i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];!t[a].error&&n[a]?r[a]=e.__assign(e.__assign({},t[a]),{value:n[a](t[a].value)}):r[a]=t[a]}return r}function F(){var e=window,t=navigator;return p(["maxTouchPoints"in t,"mediaCapabilities"in t,"PointerEvent"in e,"visualViewport"in e,"onafterprint"in e])>=4}function U(){var e=window;return p(["AnonymousContent"in e,!("AudioBuffer"in e),!("RTCPeerConnection"in e),!("geolocation"in navigator),!("ServiceWorker"in e)])>=3}var B=function(e){return new V(e).addEvent},V=function(){function t(e){var t=this;this.onReportReady=e,this.isStopped=!1,this.pageStartTimestamp=function(){var e,t,n=performance;if(n.timeOrigin){var r=null===(t=null===(e=n.getEntriesByType)||void 0===e?void 0:e.call(n,"navigation"))||void 0===t?void 0:t[0];if(r)return n.timeOrigin+(r.responseStart||r.unloadEventEnd)}return n.timing.domLoading||n.timing.responseStart||n.timing.unloadEventEnd}(),this.events={},this.addEvent=function(e){if(!t.isStopped){var n={time:new Date,type:"agentEvent",event:e};switch(0===e.e&&(n.documentReadyState=document.readyState,n.isPageVisible=z(),n.isFullscreen=Y(),n.network=Q()),t.storeAgentEvent(n),e.e){case 2:t.submitReport(e.agentId,void 0);break;case 4:case 5:t.submitReport(e.agentId,e.getCallId)}}};for(var n=window,r=document,i=[[r,"readystatechange",function(){return t.handleDocumentReadyStateChange()}],[r,"visibilitychange",function(){return t.handleVisibilityChange()}],[r,"pageshow",function(){return t.handlePageTransition(!0)}],[r,"pagehide",function(){return t.handlePageTransition(!1)}],[n,"unload",function(){return t.handlePageUnload()}]],o=0,a=i;o<a.length;o++){var s=a[o],u=s[0],c=s[1],l=s[2];u.addEventListener(c,l)}var f=function(e,t){for(var n=document,r=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=0,o=r;i<o.length;i++){var a=o[i];n.addEventListener(a,e,t)}return function(){for(var i=0,o=r;i<o.length;i++){var a=o[i];n.removeEventListener(a,e,t)}}}((function(){return t.handleFullscreenChange()})),d=function(e){var t=navigator.connection;return(null==t?void 0:t.addEventListener)?(t.addEventListener("change",e),function(){t.removeEventListener("change",e)}):(addEventListener("online",e),addEventListener("offline",e),function(){removeEventListener("online",e),removeEventListener("offline",e)})}((function(){return t.handleNetworkConnectionChange()}));this.stop=function(){t.isStopped=!0;for(var e=0,n=i;e<n.length;e++){var r=n[e],o=r[0],a=r[1],s=r[2];o.removeEventListener(a,s)}f(),d()}}return t.prototype.handleDocumentReadyStateChange=function(){this.storeEnvironmentEvent({time:new Date,type:"documentReadyState",state:document.readyState})},t.prototype.handleVisibilityChange=function(){this.storeEnvironmentEvent({time:new Date,type:"pageVisibilityToggle",isVisible:z()})},t.prototype.handlePageTransition=function(e){this.storeEnvironmentEvent({time:new Date,type:"pageTransition",isShown:e})},t.prototype.handleFullscreenChange=function(){this.storeEnvironmentEvent({time:new Date,type:"fullscreenToggle",isFullscreen:Y()})},t.prototype.handleNetworkConnectionChange=function(){this.storeEnvironmentEvent({time:new Date,type:"networkChange",network:Q()})},t.prototype.handlePageUnload=function(){this.storeEnvironmentEvent({time:new Date,type:"pageUnload"});for(var e=0,t=Object.keys(this.events);e<t.length;e++){var n=t[e],r=this.events[n];if(0===Object.keys(r.getCalls).length)this.submitReport(n,void 0);else for(var i=0,o=Object.keys(r.getCalls);i<o.length;i++){var a=o[i];H(r.getCalls[a])||this.submitReport(n,a)}}this.stop()},t.prototype.storeAgentEvent=function(e){var t=e.event,n=t.agentId;if(this.events[n]||(this.events[n]={commonEvents:[],getCalls:{}}),function(e){return"string"==typeof e.getCallId}(t)){var r=t.getCallId;this.events[n].getCalls[r]||(this.events[n].getCalls[r]=[]),this.events[n].getCalls[r].push(e)}else this.events[n].commonEvents.push(e)},t.prototype.storeEnvironmentEvent=function(e){for(var t=0,n=Object.keys(this.events);t<n.length;t++){var r=n[t];this.events[r].commonEvents.push(e)}},t.prototype.submitReport=function(t,n){var r=function(t,n){for(var r,i,o,a,s,u,c,l,d,v,g=function(e){for(var t={},n=0,r=e;n<r.length;n++){var i=r[n];"agentEvent"===i.type&&(t[i.event.e]=i)}return t}(t),h=(null===(r=t[t.length-1])||void 0===r?void 0:r.time)||new Date,m="null",_=0,p=[[4,"getSuccess"],[5,"getFail"],[3,"getting"],[1,"loadSuccess"],[2,"loadFail"],[0,"loading"]];_<p.length;_++){var b=p[_],w=b[0],y=b[1];if(g[w]){m=y;break}}return{time:(null===(i=t[t.length-1])||void 0===i?void 0:i.time)||new Date,pageUrl:location.href,pageStartTime:new Date(n),isInIframe:f(),agentVersion:null===(o=g[0])||void 0===o?void 0:o.event.version,userAgent:navigator.userAgent,pageViewId:M(),agentId:null===(a=g[0])||void 0===a?void 0:a.event.agentId,getCallId:null===(s=g[3])||void 0===s?void 0:s.event.getCallId,requestId:null!==(c=null===(u=g[4])||void 0===u?void 0:u.event.result.requestId)&&void 0!==c?c:null===(l=g[5])||void 0===l?void 0:l.event.error.requestId,visitorId:null===(d=g[4])||void 0===d?void 0:d.event.result.visitorId,visitorToken:null===(v=g[16])||void 0===v?void 0:v.event.result[1],identificationState:m,timeBetweenLoadAndGet:G(g[1],g[3]),load:W(h,g[0],g[1],g[2]),get:W(h,g[3],g[4],g[5]),tls:X(W(h,g[6],g[7],g[8]),(function(){var n,r;return e.__assign(e.__assign({},K(t,9,10,11,(null===(n=g[7])||void 0===n?void 0:n.time)||(null===(r=g[8])||void 0===r?void 0:r.time)||h)),{getPhaseDuration:G(g[3],g[7]||g[8],h)})})),fingerprint:X(W(h,g[12],g[13],g[14],(function(e){var t=e.event;return{failedComponents:$(t.result),componentDurations:J(t.result)}})),(function(){return{getPhaseDuration:G(g[3],g[13]||g[14],h)}})),visitorIdRequest:X(W(h,g[15],g[16],g[17]),(function(){var e,n;return K(t,18,19,20,(null===(e=g[16])||void 0===e?void 0:e.time)||(null===(n=g[17])||void 0===n?void 0:n.time)||h)})),events:t}}(function(e,t,n){var r=[];e[t]&&(r.push.apply(r,e[t].commonEvents),void 0!==n&&r.push.apply(r,e[t].getCalls[n]||[]));return r.sort((function(e,t){return e.time.getTime()-t.time.getTime()})),r}(this.events,t,n),this.pageStartTimestamp);try{this.onReportReady(r)}catch(i){console.error(i)}},t}();function G(e,t,n){var r=null==e?void 0:e.time,i=(null==t?void 0:t.time)||n;return r&&i&&i.getTime()-r.getTime()}function H(e){return e.some((function(e){return"agentEvent"===e.type&&(4===e.event.e||5===e.event.e)}))}function W(t,n,r,i,o){if(void 0!==n)return void 0!==r?e.__assign(e.__assign({},null==o?void 0:o(r)),{duration:r.time.getTime()-n.time.getTime(),state:"success"}):void 0!==i?{duration:i.time.getTime()-n.time.getTime(),state:"fail",error:i.event.error}:{duration:t.getTime()-n.time.getTime(),state:"incomplete"}}function K(e,t,n,r,i){for(var o=i.getTime(),a=function(e,t){for(var n={},r=0,i=e;r<i.length;r++){var o=i[r];if("agentEvent"===o.type&&-1!==t.indexOf(o.event.e)){var a=o.event;n[a.tryNumber]||(n[a.tryNumber]={}),n[a.tryNumber][a.e]=o}}for(var s=[],u=0,c=Object.keys(n);u<c.length;u++){var l=c[u];s.push(n[l])}return s}(e,[t,n,r]),s={triesCount:0,triesTotalDuration:0,completeTriesCount:0,completeTriesTotalDuration:0},u=0,c=a;u<c.length;u++){var l=c[u],f=l[t],d=l[n]||l[r];if(f){if(f.time.getTime()>=o)break;var v=d&&d.time.getTime()<=o,g=((null==d?void 0:d.time)||i).getTime()-f.time.getTime();s.triesCount++,s.triesTotalDuration+=g,v&&(s.completeTriesCount++,s.completeTriesTotalDuration+=g)}}return s}function X(t,n){return t?e.__assign(e.__assign({},t),n()):void 0}function $(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n],o=e[i].error;o&&(t[i]=o)}return t}function J(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=e[i].duration}return t}function z(){return!document.hidden}function Y(){return!!t.getFullscreenElement()}function Q(){var e=navigator.connection;return{online:navigator.onLine,downlink:null==e?void 0:e.downlink,downlinkMax:null==e?void 0:e.downlinkMax,effectiveType:null==e?void 0:e.effectiveType,roundTrip:null==e?void 0:e.rtt,saveData:null==e?void 0:e.saveData,type:null==e?void 0:e.type}}var Z=function(t){var n=this,r=t.clientId,i=t.token,o=t.endpoint,a=void 0===o?"https://api.rollbar.com/api/1/item/":o;return new V((function(t){return e.__awaiter(n,void 0,void 0,(function(){var n;return e.__generator(this,(function(e){switch(e.label){case 0:return n=function(e,t,n,r){return{access_token:n,data:ee(e,t,r)}}(t,r,i),[4,oe(a,n)];case 1:return e.sent(),[2]}}))}))})).addEvent};function ee(t,n,r){var i,o;void 0===r&&(r=[8,4,4,4,12].map((function(e){return T(e,"0123456789abcdef")})).join("-"));var a=te[t.identificationState],s=a.level,u=a.message;return{environment:n,level:s,timestamp:Math.round(t.time.getTime()/1e3),platform:"browser",framework:"FingerprintJS Pro",language:"javascript",uuid:r,notifier:{name:"FingerprintJS Pro monitoring",version:"3.5.3"},request:{url:t.pageUrl,query_string:(null!==(i=/\?.*$/.exec(t.pageUrl))&&void 0!==i?i:[""])[0],user_ip:"$remote_ip"},client:{javascript:{browser:t.userAgent,code_version:t.agentVersion}},person:void 0===t.visitorId?void 0:{id:"visitorId:"+t.visitorId},body:{telemetry:e.__spreadArrays([{level:"debug",source:"client",timestamp_ms:t.pageStartTime.getTime(),type:"manual",body:{message:"Page starts","~~hack~componentDurations":"success"===(null===(o=t.fingerprint)||void 0===o?void 0:o.state)?ie(t.fingerprint.componentDurations):void 0}}],t.events.map(ne)),message:{body:u}},custom:{isInIframe:t.isInIframe,pageViewId:t.pageViewId,agentId:t.agentId,getCallId:t.getCallId,requestId:t.requestId,visitorId:t.visitorId,visitorToken:t.visitorToken,identificationState:t.identificationState,timeBetweenLoadAndGet:t.timeBetweenLoadAndGet,load:t.load,get:t.get,tls:t.tls,fingerprint:re(t.fingerprint),visitorIdRequest:t.visitorIdRequest}}}var te={null:{level:"info",message:"Load() wasn't called"},loading:{level:"warning",message:"Load() incomplete"},loadSuccess:{level:"info",message:"Load() succeeded, get() wasn't called"},loadFail:{level:"error",message:"Load() failed"},getting:{level:"warning",message:"Get() incomplete"},getSuccess:{level:"info",message:"Get() succeeded"},getFail:{level:"error",message:"Get() failed"}};function ne(t){var n={type:"manual",level:"debug",source:"client",timestamp_ms:t.time.getTime()};switch(t.type){case"documentReadyState":return e.__assign(e.__assign({},n),{body:{message:'Document ready state becomes "'+t.state+'"'}});case"pageVisibilityToggle":return e.__assign(e.__assign({},n),{body:{message:"Page becomes "+(t.isVisible?"visible (in foreground)":"invisible (in background)")}});case"pageTransition":return e.__assign(e.__assign({},n),{body:{message:t.isShown?"Page is restored from browser history":"Page is about to go to browser history"}});case"fullscreenToggle":return e.__assign(e.__assign({},n),{body:{message:"Programmatic fullscreen "+(t.isFullscreen?"on":"off")}});case"networkChange":return e.__assign(e.__assign({},n),{body:e.__assign(e.__assign({},t.network),{message:"Network connection changes"})});case"pageUnload":return e.__assign(e.__assign({},n),{body:{message:"Page is about to unload (terminate)"}})}var r,i,o,a=t.event,s=function(r,i){void 0===i&&(i="info");for(var o=r,s=(o.e,o.agentId,o.getCallId,e.__rest(o,["e","agentId","getCallId"])),u=e.__assign(e.__assign({},n),{level:i,body:e.__assign({message:O(a.e)},s)}),c=0,l=["documentReadyState","isPageVisible","isFullscreen","network"];c<l.length;c++){var f=l[c];void 0!==t[f]&&(u.body[f]=t[f])}return u};switch(a.e){case 0:a.version;return s(e.__rest(a,["version"]));case 1:case 3:case 4:case 6:case 9:case 12:case 15:case 16:case 18:return s(a);case 2:case 5:case 8:case 11:case 14:case 17:case 20:return s(a,"error");case 7:return s(e.__assign(e.__assign({},a),{result:b(a.result,1e3)}));case 10:return s(e.__assign(e.__assign({},a),{body:b(a.body,1e3)}));case 13:return s(e.__assign(e.__assign({},a),{result:(r=a.result,o="(removed to fit into beacon)",q(r,(i={plugins:function(e){return e&&o}},i[14]=function(t){return e.__assign(e.__assign({},t),{data:o})},i.math=function(){return o},i.fontPreferences=function(){return o},i.j=function(e){return e&&o},i[9]=function(e){return e&&o},i)))}));case 19:var u=a.body;if(u instanceof ArrayBuffer){u="(base64) "+(u.byteLength>1800?y(new Uint8Array(u,0,1800))+"...":y(u))}return s(e.__assign(e.__assign({},a),{body:u}))}}function re(t){if(!t||"incomplete"===t.state||"fail"===t.state)return t;t.componentDurations;var n=e.__rest(t,["componentDurations"]),r=Object.keys(t.failedComponents),i=r.length?","+r.join(",")+",":void 0;return e.__assign(e.__assign({},n),{failedComponents:i})}function ie(t,n){void 0===n&&(n="_");for(var r=e.__assign({},t),i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];if(/^\d+$/.test(a)){delete r[a];var s=a;do{s=""+n+s}while(s in r);r[s]=t[a]}}return r}function oe(t,r){return e.__awaiter(this,void 0,void 0,(function(){var i,o;return e.__generator(this,(function(e){switch(e.label){case 0:i=function(e){return JSON.stringify(e,(function(e,t){if(t instanceof Error){var n=l(t);return"string"==typeof n.stack&&(n.stack=b(n.stack,1e3)),n}return t}))}(r),o=d(1e3,1e4),e.label=1;case 1:return navigator.onLine&&x({url:t,body:i})?[3,4]:[4,n(o.next().value)];case 2:e.sent(),e.label=3;case 3:return[3,1];case 4:return[2]}}))}))}var ae={us:"use1",eu:"eun1"};function se(t,r,i){var o,a=function(t,r,i,o){void 0===i&&(i=1/0);var a=d(300,1e4);return u(null==o?void 0:o.then((function(){}),(function(){})),(function(){var s,u,c;return e.__generator(this,(function(e){switch(e.label){case 0:s=0,e.label=1;case 1:if(!(s<i))return[3,8];u=Date.now(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t(s,o)];case 3:return[2,e.sent()];case 4:return c=e.sent(),r(c),[3,5];case 5:return[4,n(u+a.next().value-Date.now())];case 6:e.sent(),e.label=7;case 7:return++s,[3,1];case 8:return[2,void 0]}}))}))}((function(n,r){return function(t,n,r,i,o){return e.__awaiter(this,void 0,void 0,(function(){var a,s;return e.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,j(o,(function(){return{e:9,tryNumber:r,timeout:n}}),(function(e){var t=e.status,n=e.body;return{e:10,tryNumber:r,status:t,body:n}}),(function(e){return{e:11,tryNumber:r,error:e}}),(function(){return N({url:t,timeout:n,abort:i})}))];case 1:return a=e.sent(),[3,3];case 2:switch((s=e.sent()).name){case"AbortError":throw ue(s.message,-2);case"TimeoutError":throw ue(s.message,-3);case"TypeError":throw ue(s.message,-4)}throw s;case 3:if(200===a.status)return[2,a.body];throw ue(b(a.status+": "+a.body,255),-5)}}))}))}(t,5e3,n,r,i)}),(function(e){return o=e}),10,r);return a.catch((function(){})),function(e){return void 0===e&&(e=new Promise((function(){}))),Promise.race([e.then((function(){}),(function(){})),a]).then((function(e){if(void 0!==e)return e;throw o||ue("Timeout",-3)}))}}function ue(e,t){var n=new Error(e);return n.__="slt",n.s=t,n}function ce(e){return"slt"===e.__}function le(n){var r,i,o=n.components,a=n.componentsDuration,s=n.customComponent,u=n.token,c=n.visitorId,l=n.visitorToken,f=n.tls,d=n.tag,v=n.ipResolution,g=n.extendedResult,h=n.linkedId,m=n.algorithm,_="full"===v?2:1;return e.__assign(e.__assign(((r={}).c=u,r.url=location.href,r.d=a,r.vid=c[0]||c[1]||void 0,r.ls=c[1]?1:void 0,r.t=function(e){if(e&&"object"==typeof e)return e;if(null==e)return;return{tag:e}}(d),r.i=_,r.cbd=g?1:void 0,r.lid=h,r.cr=document.referrer||void 0,r.a=m,r),function(t){var n,r,i,o=((n={}).j=void 0,n.je=void 0,n);if(!t)return o;if(t.error){var a=t.error,s=a.message;if(ce(a))switch(a.s){case-2:s="Abort";break;case-3:s="Timeout";break;case-4:s="Connection error"}return e.__assign(e.__assign({},o),((r={}).je=s,r))}return e.__assign(e.__assign({},o),((i={}).j=t.value,i))}(f)),((i={}).k1=_e(o.osCpu),i.k2=_e(o.languages),i.k3=_e(o.colorDepth),i.k4=_e(o.deviceMemory),i.k5=function(e){if(e.error)return;return e.value.map((function(e){return null===e?-1:e}))}(o.screenResolution),i.k6=_e(o[11],void 0,[]),i.k7=_e(o.hardwareConcurrency,void 0,1),i.k8=_e(o[12]),i.k9=_e(o[13]),i.k10=pe(_e(o.sessionStorage)),i.k11=pe(_e(o.localStorage)),i.k12=pe(_e(o.indexedDB)),i.k13=pe(_e(o.openDatabase)),i.k14=_e(o.cpuClass),i.k15=_e(o[16]),i.k16=function(e){if(e.error||t.isTrident())return[];return e.value}(o.plugins),i.k17=function(n){if(!n)return;return e.__assign(e.__assign({},n),{data:t.murmurX64Hash128(n.data)})}(_e(o[14])),i.k18=0,i.k19=_e(o.touchSupport),i.k20=_e(o.fonts,[]),i.k21=_e(o.audio,-4),i.k22=pe(_e(o[15])),i.k23=_e(o[20]),i.k24=_e(o[21]),i.k25=pe(_e(o[22])),i.k26=pe(_e(o[18])),i.k27=_e(o.vendor),i.k28=pe(_e(o[17])),i.k29=pe(_e(o[10])),i.k30=pe(_e(o[19])),i.k31=pe(_e(o[4],!1)),i.k32=pe(_e(o.cookiesEnabled,!1)),i.k33=pe(_e(o[25])),i.k35=function(e){var t=e.value;switch(null==t?void 0:t.s){case 0:case-4:case-3:return t;default:return}}(o[0]),i.s1=he(o.osCpu,-1),i.s2=ve(o.languages),i.s3=ve(o.colorDepth),i.s4=he(o.deviceMemory,-1),i.s5=fe(o.screenResolution,(function(e){return{s:0,v:e.map((function(e){return null===e?-1:e}))}})),i.s6=fe(o[5],(function(e){return{s:0,v:e.map((function(e){return null===e?-1:e}))}})),i.s7=he(o.hardwareConcurrency,-1),i.s8=me(o[6]),i.s9=ve(o.timezone),i.s10=ve(o.sessionStorage),i.s11=ve(o.localStorage),i.s12=he(o.indexedDB,-1),i.s13=ve(o.openDatabase),i.s14=he(o.cpuClass,-1),i.s15=ve(o.platform),i.s16=he(o.plugins,-1),i.s17=fe(o.canvas,(function(n){return{s:0,v:e.__assign(e.__assign({},n),{geometry:t.murmurX64Hash128(n.geometry),text:t.murmurX64Hash128(n.text)})}})),i.s18=me(o[7]),i.s19=ve(o.touchSupport),i.s20=ve(o.fonts),i.s21=fe(o.audio,(function(e){return-1===e||-2===e||-3===e?{s:e,v:null}:{s:0,v:e}})),i.s22=he(o[23],-1),i.s26=me(o[8]),i.s27=ve(o.vendor),i.s28=ve(o.vendorFlavors),i.s30=he(o[24],-1),i.s31=ve(o[4]),i.s32=ve(o.cookiesEnabled),i.s33=ve(o[25]),i.s34=ge(o[0]),i.s35=ge(o[3]),i.s36=he(o.domBlockers,-1),i.s37=he(o.colorGamut,-1),i.s38=he(o.contrast,-1),i.s39=he(o.forcedColors,-1),i.s40=he(o.hdr,-1),i.s41=he(o.invertedColors,-1),i.s42=he(o.monochrome,-1),i.s43=he(o.reducedMotion,-1),i.s44=he(o[26],-1),i.s45=ve(o[27]),i.s46=fe(o.math,(function(e){return{s:0,v:t.murmurX64Hash128(Object.keys(e).map((function(t){return t+"="+e[t]})).join(","))}})),i.s47=fe(o.j,(function(n){return{s:n?0:-1,v:n?e.__assign(e.__assign({},n),{contextAttributes:t.murmurX64Hash128(n.contextAttributes),parameters:t.murmurX64Hash128(n.parameters),shaderPrecisions:t.murmurX64Hash128(n.shaderPrecisions),extensions:t.murmurX64Hash128(n.extensions),extensionParameters:t.murmurX64Hash128(n.extensionParameters),fingerprint:t.murmurX64Hash128(n.fingerprint)}):null}})),i.s48=ve(o[28]),i.s49=he(o[29],-1),i.s50=he(o[30],-1),i.s51=ve(o.fontPreferences),i.s52=fe(o[2],(function(e){return{s:"number"==typeof e?e:e.length?0:1,v:"number"==typeof e?"":t.murmurX64Hash128(JSON.stringify(e))}})),i.s53=ge(o[31]),i.s54=me(o[1]),i.s55=function(e){var t=e[0],n=e[1];if(void 0!==t&&void 0!==n)return{s:0,v:t||n};if(void 0!==t)return{s:1,v:t};if(void 0!==n)return{s:2,v:n};return{s:-1,v:null}}(l),i.s56=function(e){if(!e)return{s:-1,v:null};if(e.error){var t=e.error;return ce(t)?{s:t.s,v:null}:{e:t.message}}return{s:0,v:e.value}}(f),i.s57=he(o[32],-1),i.s58=he(o[9],-1),i.s59=ve(o[33]),i.s60=ve(o[34]),i.s61=ve(o[35]),i.s62=ve(o[36]),i.s63=ve(o[37]),i.s64=ve(o[38]),i.s65=ve(o[39]),i.s66=he(o[40],-1),i.s67=s?{s:0,v:s}:{s:-1,v:null},i))}function fe(e,t){return e.error?{e:de(e.error)}:t(e.value)}function de(e){var t;try{t=""+e.message,"name"in e&&(t=e.name+": "+t)}catch(e){t="Code 3017: "+e.name+": "+e.message}return b(t,500)}function ve(e){return fe(e,(function(e){return{s:0,v:e}}))}function ge(e){return fe(e,(function(e){return e}))}function he(e,t){return fe(e,(function(e){return{s:null==e?t:0,v:null!=e?e:null}}))}function me(e){return fe(e,(function(e){return"number"==typeof e?{s:e,v:null}:{s:0,v:e}}))}function _e(e,t,n){return e.error?t:void 0===e.value?n:e.value}function pe(e){return!0===e?1:!1===e?0:e}var be=R("WrongRegion"),we=R("SubscriptionNotActive");function ye(t,n){var r=t.bodyData;return void 0===r?Oe(t):function(e){return e instanceof Object&&"2"===e.v&&e.products instanceof Object}(r)?function(t,n){var r=t.notifications,i=t.requestId,o=t.error,a=t.products;if(Se(r),o)return Re(o,i,n);var s=a.identification;if(!s)throw new Error("There is no identification result in the response");if(Se(s.notifications),s.error)return Re(s.error,i,n);return[e.__assign({requestId:i},s.data.result),s.data.visitorToken]}(r,n):function(e){return e instanceof Object&&"string"==typeof e.visitorId&&"n/a"!==e.visitorId}(r)?function(t){var n=t,r=n.notification,i=n.visitorToken,o=n.botProbability,a=e.__rest(n,["notification","visitorToken","botProbability"]);r&&Ie(r);var s=e.__assign({},a);o&&(s.bot={probability:o});return[s,i]}(r):function(e){return e instanceof Object&&"n/a"===e.visitorId}(r)?function(e,t){var n=e.notification,r=e.reason,i=e.requestId;n&&Ie(n);switch(r){case"Not available for crawl bots":return Te(i,!0,t);case"Not available when User-Agent is unspecified":return Te(i,void 0,t);case"Request failed":case"Request failed to process":return ke(r,i);default:throw ke(r,i)}}(r,n):Oe(t)}function Re(e,t,n){switch(e.code){case"NotAvailableForCrawlBots":return Te(t,!0,n);case"NotAvailableWithoutUA":return Te(t,void 0,n);case"Failed":case"RequestTimeout":return ke(Ee(e),t,e);default:throw ke(Ee(e),t,e)}}function Ee(e){var t,n=e.code,r=e.message;return void 0===n?r:null!==(t=function(e){switch(e){case"TokenRequired":return"Token required";case"TokenNotFound":return"Token not found";case"TokenExpired":return"Token expired";case"RequestCannotBeParsed":return"Request cannot be parsed";case"Failed":return"Request failed";case"RequestTimeout":return"Request failed to process";case"TooManyRequests":return"Too many requests, rate limit exceeded";case"OriginNotAvailable":return"Not available for this origin";case"HeaderRestricted":return"Not available with restricted header";case"NotAvailableForCrawlBots":return"Not available for crawl bots";case"NotAvailableWithoutUA":return"Not available when User-Agent is unspecified"}}(n))&&void 0!==t?t:R(n)}function Te(t,n,r){var i={requestId:t,visitorFound:!1,visitorId:""};if(!r)return[i];var o=e.__assign(e.__assign({},i),{bot:{probability:1},incognito:!1,browserName:"n/a",browserVersion:"n/a",device:"n/a",ip:"n/a",ipLocation:{},os:"n/a",osVersion:"n/a"});return void 0!==n&&(o.bot.safe=n),[o]}function ke(e,t,n){var r=new Error(e);return void 0!==t&&(r.requestId=t),void 0!==n&&(r.raw=n),r}function Se(e){null==e||e.forEach(Ie)}function Ie(e){var t=e.level,n=e.message;"error"===t?console.error(n):"warning"===t?console.warn(n):console.log(n)}function Oe(e){var t=ke("Response cannot be parsed",void 0,{httpStatusCode:e.status,bodyBase64:y(e.body)});if(e.status>=500)return t;throw t}function Ae(e,t,n,r,i){void 0===i&&(i=S);var o=i()%(n+1),a=function(e){if("function"==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=unescape(encodeURI(e)),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}(JSON.stringify(e)),s=1+t.length+1+o+r+a.length,u=new ArrayBuffer(s),c=new Uint8Array(u),l=0,f=i();c[l++]=f;for(var d=0,v=t;d<v.length;d++){var g=v[d];c[l++]=f+g}c[l++]=f+o;for(var h=0;h<o;++h)c[l++]=i();var m=new Uint8Array(r);for(h=0;h<r;++h)m[h]=i(),c[l++]=m[h];for(h=0;h<a.length;++h)c[l++]=a[h]^m[h%r];return u}function Ce(e,t,n){var r=function(){throw new Error("Invalid data")},i=v(e);i.length<t.length+2&&r();for(var o=0;o<t.length;++o)w(i[1+o],i[0])!==t[o]&&r();var a=1+t.length,s=w(i[a],i[0]);i.length<a+1+s+n&&r();var u=a+1+s,c=u+n,l=new Uint8Array(i.length-c);for(o=0;o<l.length;++o)l[o]=i[c+o]^i[u+o%n];return JSON.parse(_(l))}var De=[3,7];function Ne(t){return e.__awaiter(this,void 0,void 0,(function(){var n,r,i;return e.__generator(this,(function(o){switch(o.label){case 0:return[4,N(e.__assign(e.__assign({},t),{body:(s=t.body,Ae(s,De,3,7)),responseFormat:"binary"}))];case 1:n=o.sent();try{a=n.body,r=Ce(a,De,7),i=!0}catch(u){try{r=JSON.parse(_(n.body)),i=!1}catch(c){}}return[2,e.__assign(e.__assign({},n),{bodyData:r,isSecret:i})]}var a,s}))}))}function Pe(e,t){if(t)return t;var n="api.fpjs.io";return"us"!==e&&(n=e+"."+n),"https://"+n}function xe(t,r,i){var o=t.endpoint,a=t.extendedResult,s=void 0!==a&&a,c=e.__rest(t,["endpoint","extendedResult"]);return e.__awaiter(this,void 0,void 0,(function(){var t,a,l;return e.__generator(this,(function(f){switch(f.label){case 0:return t=(v=o)+(-1===v.indexOf("?")?"?":"&")+"cv="+encodeURIComponent("3.5.3"),a=le(e.__assign({extendedResult:s},c)),l=0,[4,j(i,(function(){return{e:15,endpoint:t,request:a}}),(function(e){return{e:16,result:e}}),(function(e){return{e:17,error:e}}),(function(){return function(t,r){var i,o=d(300,1e4);return u(null==r?void 0:r.catch((function(e){i||(i=e)})).then((function(){throw i})),(function(){var a,s,u;return e.__generator(this,(function(e){switch(e.label){case 0:return a=Date.now(),[4,t(r)];case 1:return(s=e.sent())instanceof Error?(i=s,u=o.next().value,[4,n(a+u-Date.now())]):[2,s];case 2:e.sent(),e.label=3;case 3:return[3,0];case 4:return[2]}}))}))}((function(n){return function(t,n,r,i,o,a){return e.__awaiter(this,void 0,void 0,(function(){var s,u;return e.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,j(a,(function(){return{e:18,tryNumber:i}}),(function(e){var t=e.status,n=e.body,r=e.bodyData,o=e.isSecret;return{e:19,tryNumber:i,status:t,body:null!=r?r:n,isSecret:o}}),(function(e){return{e:20,tryNumber:i,error:e}}),(function(){return Ne({url:t,method:"post",body:n,headers:{"Content-Type":"text/plain"},withCredentials:!0,abort:o})}))];case 1:return s=e.sent(),[3,3];case 2:return u=e.sent(),[2,new Error("AbortError"===u.name?"Network request aborted":"Network connection error")];case 3:return[2,ye(s,r)]}}))}))}(t,a,s,l++,n,i)}),r)}))];case 1:return[2,f.sent()]}var v}))}))}function Le(){var e=screen;if(e.availWidth&&e.availHeight){var t=[0|e.availWidth,0|e.availHeight];return t.sort().reverse(),t}}function je(){var e=(new Date).getFullYear();return Math.max(+new Date(e,0,1).getTimezoneOffset(),+new Date(e,6,1).getTimezoneOffset())}function Me(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t)return(new t).resolvedOptions().timeZone}function qe(e){return e.toDataURL()}function Fe(){var e=function(){var e=document.createElement("canvas");return e.width=240,e.height=140,e.style.display="inline",[e,e.getContext("2d")]}(),t=e[0],n=e[1];if(!function(e,t){return!(!t||!e.toDataURL)}(t,n))return{winding:!1,data:""};n.rect(0,0,10,10),n.rect(2,2,6,6);var r=!n.isPointInPath(5,5,"evenodd");n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.font="11pt no-real-font-123";var i="Cwm fjordbank "+String.fromCharCode(55357,56835)+" gly";n.fillText(i,2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText(i,4,45),n.globalCompositeOperation="multiply";for(var o=0,a=[["#f0f",50,50],["#0ff",100,50],["#ff0",75,100]];o<a.length;o++){var s=a[o],u=s[0],c=s[1],l=s[2];n.fillStyle=u,n.beginPath(),n.arc(c,l,50,0,2*Math.PI,!0),n.closePath(),n.fill()}return n.fillStyle="#f0f",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),{winding:r,data:qe(t)}}function Ue(){return void 0!==navigator.plugins}function Be(){return navigator.platform}function Ve(){return void 0!==window.chrome}function Ge(){var e=window,t=document,n=t.documentElement;return"webdriver"in e||"_Selenium_IDE_Recorder"in e||"callSelenium"in e||"_selenium"in e||"__webdriver_script_fn"in t||"__driver_evaluate"in t||"__webdriver_evaluate"in t||"__selenium_evaluate"in t||"__fxdriver_evaluate"in t||"__driver_unwrapped"in t||"__webdriver_unwrapped"in t||"__selenium_unwrapped"in t||"__fxdriver_unwrapped"in t||"__webdriver_script_func"in t||null!==n.getAttribute("selenium")||null!==n.getAttribute("webdriver")||null!==n.getAttribute("driver")}function He(){return navigator.webdriver}function We(){return e.__awaiter(this,void 0,void 0,(function(){var t,n;return e.__generator(this,(function(e){switch(e.label){case 0:return(t=navigator.permissions)?[4,t.query({name:"notifications"})]:[2,void 0];case 1:return n=e.sent(),"undefined"==typeof Notification?[2,void 0]:[2,"denied"===Notification.permission&&"prompt"===n.state]}}))}))}function Ke(){return navigator.productSub}function Xe(){return eval.toString().length}function $e(){try{throw"a"}catch(e){try{return e.toSource(),!0}catch(t){return!1}}}function Je(){var e,t,n=ze();return(null===(t=null===(e=window[n[0]])||void 0===e?void 0:e[n[1]])||void 0===t?void 0:t[n[2]])||1073741824}function ze(){return Ce(new Uint32Array([1238629110,448276002,3812774028,808844344,1040086494,3917076003,2006609522,3391962601,1618783843,902064594,3846817827,1945380650,2587245025,908308022,938305751,2922813991,1910122279,3709215973,809499767,66414809,3983071030,916072247,3711377838,822474088,300514777,4182498348,953759295,3408360096,591258990,229539788]),[],5)}function Ye(){var e=et(),t=window[e[0]];if(!t)return!1;try{t[e[1]][e[2]](e[3],e[4],{},(function(){}))}catch(n){return!new RegExp(e[5]).test(n)}return!1}function Qe(){return e.__awaiter(this,void 0,void 0,(function(){var t,r,i;return e.__generator(this,(function(e){switch(e.label){case 0:t=document,r=et(),(i=t.createElement("iframe")).style.display="none",e.label=1;case 1:return t.body?[3,3]:[4,n(50)];case 2:return e.sent(),[3,1];case 3:return e.trys.push([3,,5,6]),t.body.appendChild(i),[4,Promise.race([n(20,!1),new Promise((function(e){i.contentWindow?i.contentWindow[r[6]].addEventListener("error",(function(){return e(!0)})):e(!1)}))])];case 4:return[2,e.sent()];case 5:return i.remove(),[7];case 6:return[2]}}))}))}function Ze(){var e=window.openDatabase,t=window.localStorage;try{e(null,null,null,null)}catch(n){return!0}try{return t.setItem("test","1"),t.removeItem("test"),!1}catch(n){return!0}}function et(){return Ce(new Uint32Array([571803394,2333197341,667974149,459532809,2807590137,1996360231,241878290,3893584866,1793199716,1479125268,4262158585,1442777440,325646623,3826480888,665278571,175243026,2757050360,1760166496,1415636746,2836884200,2012960809,241499411,2840995822,1912086370,1482750223,4212860839,1726092917,359464731,3894101733,1487478637]),[],3)}var tt=[[function(){return t.isChromium()},function(){return p(["ClipboardItem"in(t=window),"PerformanceEventTiming"in t,"RTCSctpTransport"in t])>=2?function(){return e.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o;return e.__generator(this,(function(e){switch(e.label){case 0:return t=ze(),n=navigator,r=n[t[3]],(i=n[t[4]])?[4,new Promise((function(e){i[t[5]]((function(t,n){return e(n)}))}))]:[3,2];case 1:return o=e.sent(),[3,4];case 2:return(null==r?void 0:r[t[6]])?[4,r[t[6]]().then((function(e){return e.quota}))]:[3,4];case 3:o=e.sent(),e.label=4;case 4:return o?[2,o<Je()]:[2,!1]}}))}))}():function(){return e.__awaiter(this,void 0,void 0,(function(){var t;return e.__generator(this,(function(e){switch(e.label){case 0:return(t=window.webkitRequestFileSystem)?[4,new Promise((function(e){t(0,1,(function(){return e(!1)}),(function(){return e(!0)}))}))]:[2,!1];case 1:return[2,e.sent()]}}))}))}();var t}],[function(){return t.isWebKit()},function(){return e.__awaiter(this,void 0,void 0,(function(){return e.__generator(this,(function(e){return F()?t.isDesktopSafari()?[2,Ye()]:[2,Qe()]:[2,Ze()]}))}))}],[function(){return t.isGecko()},function(){return new Promise((function(e){try{var t=indexedDB.open("test");t.onerror=function(){return e(!0)},t.onsuccess=function(){return e(!1)}}catch(n){return e(!0)}}))}],[function(){return t.isTrident()||t.isEdgeHTML()},function(){try{if(!window.indexedDB)return!0}catch(e){return!0}return!1}]];function nt(t){var n=t.storageKeyPrefix;return e.__awaiter(this,void 0,void 0,(function(){var t,r,i;return e.__generator(this,(function(e){switch(e.label){case 0:return void 0!==(r=function(e){try{var t=localStorage.getItem(e);if(!t)return;return"1"===t}catch(n){return}}(t=n+"_i"))?[2,r]:[4,rt()];case 1:return i=e.sent(),function(e,t){try{localStorage.setItem(e,t?"1":"0")}catch(n){}}(t,i),[2,i]}}))}))}function rt(){return e.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,o;return e.__generator(this,(function(e){switch(e.label){case 0:t=0,n=tt,e.label=1;case 1:return t<n.length?(r=n[t],i=r[0],o=r[1],i()?[4,o()]:[3,3]):[3,4];case 2:return[2,e.sent()];case 3:return t++,[3,1];case 4:return[2,!1]}}))}))}function it(){var e=window;if(!t.isChromium())return!1;try{if([66,114,97,118,101].map((function(e){return String.fromCharCode(e)})).join("")in e)return!0;var n=document.createElement("canvas");n.width=4,n.height=4,n.style.display="inline";var r=n.toDataURL();if(""===r)return!0;for(var i=window.atob(r.split(",")[1]),o=i.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=i.charCodeAt(s);var u=m(a,[73,68,65,84,24]);if(-1===u)return!1;var c=m(a,[73,69,78,68]);return-1!==c&&1321!==a.slice(u+5,c).reduce((function(e,t){return e+t}),0)}catch(l){return!1}}function ot(){return e.__awaiter(this,void 0,void 0,(function(){var t,n;return e.__generator(this,(function(r){switch(r.label){case 0:return t=[],[4,c(a(2e3,-4),at.bind(null,(function(e){return t.push(e)})))];case 1:return n=r.sent(),[2,function(){var r=n();return 0===r||-4===r?{s:r,v:e.__spreadArrays(t)}:{s:r,v:null}}]}}))}))}function at(n){return e.__awaiter(this,void 0,void 0,(function(){var r,i,a;return e.__generator(this,(function(e){switch(e.label){case 0:if(r=window,!(i=r.RTCPeerConnection||r.webkitRTCPeerConnection))return[2,-3];try{a=new i({iceServers:Ce(new Uint32Array([1116284708,2807606666,1856165634,1993636598,3410021538,3195192872,1656883084,2598385300,3564798284,1087152758,1841329857,3355624888,3127755894,1804885912,4294258839]),[],7).map((function(e){return{urls:"stun:"+e}}))})}catch(s){if("NotSupportedError"===s.name)return[2,-6];throw s}e.label=1;case 1:return e.trys.push([1,,3,4]),[4,new Promise((function(e,r){var i,u=!1;a.onicecandidate=function(t){var r=t.candidate;if(!r)return e(0);var i=r.candidate;i&&(n(i),!u&&/ typ [sp]rflx /.test(i)&&(u=!0,o(e,10,0)))},a.onicegatheringstatechange=function(){"complete"===a.iceGatheringState&&e(0)};try{null===(i=a.createDataChannel)||void 0===i||i.call(a,"test")}catch(s){return void("NotSupportedError"===s.name?e(-7):r(s))}var c=function(e,t){try{return e.createOffer(t)}catch(s){if(/\bcreateOffer\b.*(\bcallback\b.*\bnot a function\b|\barguments required\b.*\bpresent\b)/i.test(s.message))return new Promise((function(n,r){e.createOffer(n,r,t)}));throw s}}(a,t.isEdgeHTML()?{offerToReceiveAudio:!0}:void 0);void 0===c?e(-8):c.then((function(e){return a.setLocalDescription(e)}),r)}))];case 2:return[2,e.sent()];case 3:try{a.close()}catch(u){}return[7];case 4:return[2]}}))}))}function st(){return e.__awaiter(this,void 0,void 0,(function(){var n;return e.__generator(this,(function(e){switch(e.label){case 0:if("function"!=typeof(n=window.ApplePaySession))return[2,{s:-1,v:null}];e.label=1;case 1:return e.trys.push([1,4,,5]),n.canMakePayments()?t.isWebKit()&&!F()?[2,{s:0,v:1}]:[4,new Promise((function(e){return setTimeout(e,0)}))]:[2,{s:0,v:0}];case 2:return e.sent(),[4,Promise.race([n.canMakePaymentsWithActiveCard(""),a(100,!1)])];case 3:return[2,{s:0,v:e.sent()?3:2}];case 4:return[2,ut(e.sent())];case 5:return[2]}}))}))}function ut(e){if("InvalidAccessError"===e.name){if(/\bfrom\b.*\binsecure\b/i.test(e.message))return{s:-2,v:null};if(/\bdifferent\b.*\borigin\b.*top.level\b.*\bframe\b/i.test(e.message))return{s:-3,v:null}}throw e}function ct(){return!!lt("dark")||!lt("light")&&void 0}function lt(e){return matchMedia("(prefers-color-scheme: "+e+")").matches}function ft(){var e=Date.now();return[dt(e),dt(e-6e4*(new Date).getTimezoneOffset())]}function dt(e){var t=Number(e);return isNaN(t)?-1:t}function vt(){var e=window.performance;if(null==e?void 0:e.now){for(var t=1,n=1,r=e.now(),i=r,o=0;o<5e4;o++)if((r=i)<(i=e.now())){var a=i-r;a>t?a<n&&(n=a):a<t&&(n=t,t=a)}return[t,n]}}function gt(){var e,t;return null===(t=null===(e=window.performance)||void 0===e?void 0:e.memory)||void 0===t?void 0:t.jsHeapSizeLimit}var ht=["MAX_TEXTURE_MAX_ANISOTROPY_EXT","FRAGMENT_SHADER_DERIVATIVE_HINT_OES","MAX_COLOR_ATTACHMENTS_WEBGL","MAX_DRAW_BUFFERS_WEBGL","DRAW_BUFFER0_WEBGL","DRAW_BUFFER1_WEBGL","VERTEX_ARRAY_BINDING_OES","TIMESTAMP_EXT","GPU_DISJOINT_EXT","MAX_VIEWS_OVR"],mt=[10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32926,32928,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938],_t=[32926,32928],pt=["FRAGMENT_SHADER","VERTEX_SHADER"],bt=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"];function wt(e,t,n){var r=e.getShaderPrecisionFormat(e[t],e[n]);return r?[r.rangeMin,r.rangeMax,r.precision]:[]}function yt(e){return"string"==typeof e&&!e.match(/[^A-Z0-9_x]/)}function Rt(e){return Object.keys(e.__proto__).filter(yt)}function Et(){for(var n=document.createElement("canvas"),r=["webgl","experimental-webgl"],i=void 0,o=0;o<r.length&&!i;o++)try{i=n.getContext(r[o])}catch(s){}if(i){var a=e.__assign(e.__assign({},function(e){var n,r,i,o,a,s,u=e.getSupportedExtensions(),c=e.getExtension("WEBGL_debug_renderer_info"),l=e.getContextAttributes(),f=[],d=[],v=[],g=[];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&f.push(h+"="+l[h]);for(var m=Rt(e),_=t.isTrident(),p=0,b=m;p<b.length;p++){var w=e[O=b[p]];if(mt.indexOf(w)>-1){var y=_&&-1===_t.indexOf(w)?e.getParameter(w):null;d.push(O+"("+w+")="+y)}else d.push(O+"="+w)}if(u)for(var R=0,E=u;R<E.length;R++){var T=E[R],k=e.getExtension(T);if(k)for(var S=0,I=Rt(k);S<I.length;S++){var O;w=k[O=I[S]],ht.indexOf(O)>0?v.push(O+"("+w+")="+e.getParameter(w)):v.push(O+"="+w)}}for(var A=0,C=pt;A<C.length;A++)for(var D=C[A],N=0,P=bt;N<P.length;N++){var x=P[N],L=wt(e,D,x);g.push(D+"."+x+"="+L.join(","))}return v.sort(),d.sort(),{version:(null===(n=e.getParameter(e.VERSION))||void 0===n?void 0:n.toString())||"",vendor:(null===(r=e.getParameter(e.VENDOR))||void 0===r?void 0:r.toString())||"",vendorUnmasked:c?null===(i=e.getParameter(c.UNMASKED_VENDOR_WEBGL))||void 0===i?void 0:i.toString():"",renderer:(null===(o=e.getParameter(e.RENDERER))||void 0===o?void 0:o.toString())||"",rendererUnmasked:c?null===(a=e.getParameter(c.UNMASKED_RENDERER_WEBGL))||void 0===a?void 0:a.toString():"",shadingLanguageVersion:(null===(s=e.getParameter(e.SHADING_LANGUAGE_VERSION))||void 0===s?void 0:s.toString())||"",contextAttributes:f.join("&"),parameters:d.join("&"),shaderPrecisions:g.join("&"),extensions:u?u.join(","):"",extensionParameters:v.join(",")}}(i)),{fingerprint:""});return function(e){e.clearColor(0,0,1,1);var t=e.createProgram();if(t){i(0,"attribute vec2 p;uniform float t;void main(){float s=sin(t);float c=cos(t);gl_Position=vec4(p*mat2(c,s,-s,c),1,1);}"),i(1,"void main(){gl_FragColor=vec4(1,0,0,1);}"),e.linkProgram(t),e.useProgram(t),e.enableVertexAttribArray(0);var n=e.getUniformLocation(t,"t"),r=e.createBuffer();e.bindBuffer(34962,r),e.bufferData(34962,new Float32Array([0,1,-1,-1,1,-1]),35044),e.vertexAttribPointer(0,2,5126,!1,0,0),e.clear(16384),e.uniform1f(n,3.65),e.drawArrays(4,0,3)}function i(n,r){var i=e.createShader(35633-n);t&&i&&(e.shaderSource(i,r),e.compileShader(i),e.attachShader(t,i))}}(i),a.fingerprint=n.toDataURL(),a}}function Tt(){var n=window.speechSynthesis;if("function"!=typeof(null==n?void 0:n.getVoices))return-1;var i=function(){return n.getVoices()};return!n.addEventListener||t.isGecko()&&U()?kt(i()):function(t){return e.__awaiter(this,void 0,void 0,(function(){var n;return e.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,,2,3]),[4,new Promise((function(e,i){var a,s=function(){t.getVoices().length?(null==a||a(),a=r(e,50)):a||(a=o(e,600))};n=function(){try{s()}catch(e){i(e)}},s(),t.addEventListener("voiceschanged",n)}))];case 1:return[2,e.sent()];case 2:return n&&t.removeEventListener("voiceschanged",n),[7];case 3:return[2]}}))}))}(n).then((function(){return function(){var e=i();return e.length?kt(e):-2}}))}function kt(e){var t=function(e){return e.replace(/([,\\])/g,"\\$1")};return e.map((function(e){return[t(e.voiceURI),t(e.name),t(e.lang),e.localService?"1":"0",e.default?"1":"0"].join(",")})).sort()}function St(){return{s:t.isWebKit()&&!t.isDesktopSafari()?F()?0:1:2,v:[(typeof SourceBuffer).slice(0,3),(typeof SourceBufferList).slice(0,3)]}}var It={m:["$$s-macbook-pro","$$s-macbook-air","$$s-mac-mini"],i:["$$s-iphone"]},Ot={m:["macbook-pro-$$","macbook-air-$$","mac-mini-$$"],i:["iphone-$$"]},At={us:["james","mary","john","patricia","robert","jennifer","michael","linda","william","elizabeth","david","barbara","richard","susan","joseph","jessica","thomas","sarah","charles","karen","christopher","nancy","daniel","lisa","matthew","margaret","anthony","betty","donald","sandra"],gb:["oliver","george","noah","arthur","harry","leo","muhammad","jack","charlie","oscar","jacob","henry","thomas","joshua","william","olivia","amelia","isla","ava","mia","isabella","sophia","grace","lily","freya","emily","ivy","ella","rosie","charlotte"],ru:["aleksandr","sergej","vladimir","elena","tatana","andrej","aleksej","olga","nikolaj","natala","anna","ivan","dmitrij","irina","maria","mihail","svetlana","ekaterina","evgenij","viktor","anastasia","urij","ulia","valentin","roman","igor","anatolij","oleg","pavel","maksim"]},Ct={m:["macbook-pro","macbook-air","mac-mini","mac-pro"],i:["iphone","iphone-2"]};function Dt(t){return e.__awaiter(this,void 0,void 0,(function(){var n,r,i,a,s,u,c,l,f=this;return e.__generator(this,(function(d){switch(d.label){case 0:if(!(n=window.RTCPeerConnection))return[2,-5];r=Math.random().toString(),i=new Map,s="candidate:0 1 udp 2113937151 $ad $pt typ host generation 0 ufrag "+(a="ABCD")+" network-cost 999",u=new n({iceTransportPolicy:"all"}),c=u.createDataChannel(r),l=0,d.label=1;case 1:return d.trys.push([1,,3,4]),[4,new Promise((function(n,r){o((function(){return n(-4)}),1e3),u.oniceconnectionstatechange=function(){"checking"===u.iceConnectionState&&(l=setInterval((function(){return e.__awaiter(f,void 0,void 0,(function(){var t,r;return e.__generator(this,(function(e){switch(e.label){case 0:return"checking"!==u.iceConnectionState?[2,n([])]:[4,u.getStats()];case 1:return t=e.sent(),r=[],t.forEach((function(e){if("remote-candidate"===e.type){var t=i.get(e.port);r.push(t)}})),r.length>0&&n(r),[2]}}))}))}),30))},u.createOffer().then((function(e){var r=e.sdp;if(!r)return n(-5);for(var o=[],c=0;c<t.length;c++){var l=t[c],f=50003+c,d=s.replace("$ad",l).replace("$pt",f.toString());i.set(f,l),o.push("a="+d)}var v={type:"answer",sdp:r.replace(/a=ice-ufrag:(.*?)\s{1,2}/,"a=ice-ufrag:"+a+"\r\n").replace(/a=setup:(.*?)\s{1,2}/,"a=setup:active\r\n").replace(/c=IN IP4 ([0-9]+\.[0-9]+\.[0-9]+\.[0-9]+)/,(function(e,t){return"c=IN IP4 "+t+"\r\nb=AS:30\r\n"+o.join("\r\n")}))};return u.setLocalDescription(e),u.setRemoteDescription(v)}),r)}))];case 2:return[2,d.sent()];case 3:return c.close(),u.close(),clearInterval(l),[7];case 4:return[2]}}))}))}function Nt(t){return e.__awaiter(this,void 0,void 0,(function(){var n,r=this;return e.__generator(this,(function(i){switch(i.label){case 0:n=new AbortController,i.label=1;case 1:return i.trys.push([1,,3,4]),[4,Promise.race(e.__spreadArrays(t.map((function(t){return e.__awaiter(r,void 0,void 0,(function(){return e.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,fetch("http"+("http:"===location.protocol?"":"s")+"://"+t,{signal:n.signal})];case 1:return e.sent(),[3,3];case 2:return e.sent(),[3,3];case 3:return[2,t]}}))}))})),[a(500,-4)]))];case 2:return[2,i.sent()];case 3:return n.abort(),[7];case 4:return[2]}}))}))}function Pt(){for(var n=!t.isDesktopSafari(),r=navigator.language.toLowerCase(),i=function(){var t={"en-us":e.__assign(e.__assign({},It),{n:At.us}),"en-gb":e.__assign(e.__assign({},It),{n:At.gb}),"ru-ru":e.__assign(e.__assign({},Ot),{n:At.ru})};return t.default=t["en-us"],t.en=t["en-us"],t.ru=t["ru-ru"],t}(),o=i[r]||i[r.slice(0,2)]||i.default,a=n?o.i.slice():o.m.slice(),s=n?Ct.i.slice():Ct.m.slice(),u=0,c=n?o.n:o.n.slice(0,15);u<c.length;u++)for(var l=c[u],f=0,d=a;f<d.length;f++){var v=d[f];s.push(v.replace("$$",l))}return s.map((function(e){return e+".local"}))}function xt(n){return e.__awaiter(this,void 0,void 0,(function(){var r,i;return e.__generator(this,(function(e){switch(e.label){case 0:return!t.isWebKit()||(o=window,p(["mediaSession"in navigator,"BigInt64Array"in o,"FormDataEvent"in o,"ImageBitmap"in o,"WebGL2RenderingContext"in o,"onclose"in o])>=4)?[2,-2]:[4,Dt(r=Pt())];case 1:return i=e.sent(),null==n||n(),"number"==typeof i?[2,i]:i.length===r.length?[2,-3]:i.length>1?[2,Nt(i)]:1===i.length?[2,i[0]]:[2,-1]}var o}))}))}function Lt(){var e,n,r,i=((r=new Promise((function(t,r){e=t,n=r}))).resolve=e,r.reject=n,r),o=a(t.isDesktopSafari()?310:410);return c(Promise.race([i,o]).then((function(e){if(void 0!==e)return a(e+100-Date.now())})).then((function(){return-4})),(function(){return xt((function(){return i.resolve(Date.now())}))}))}var jt=["brands","mobile","platform","platformVersion","architecture","bitness","model","uaFullVersion"];function Mt(){var t;return e.__awaiter(this,void 0,void 0,(function(){var n,r,i,o=this;return e.__generator(this,(function(a){switch(a.label){case 0:return(n=navigator.userAgentData)&&"object"==typeof n?(r={},i=[],"function"!=typeof n.getHighEntropyValues?[3,2]:[4,Promise.all(jt.map((function(t){return e.__awaiter(o,void 0,void 0,(function(){var o,a;return e.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,n.getHighEntropyValues([t])];case 1:return void 0!==(o=e.sent()[t])&&(r[t]="string"==typeof o?o:JSON.stringify(o)),[3,3];case 2:if("NotAllowedError"!==(a=e.sent()).name)throw a;return i.push(t),[3,3];case 3:return[2]}}))}))})))]):[2,void 0];case 1:a.sent(),a.label=2;case 2:return[2,{b:n.brands.map((function(e){return{b:e.brand,v:e.version}})),m:n.mobile,p:null!==(t=n.platform)&&void 0!==t?t:null,h:r,nah:i}]}}))}))}function qt(){var e=document.createElement("a").attributionsourceid;return void 0===e?void 0:String(e)}function Ft(){var t=this;return c(n(250,-2),(function(){return e.__awaiter(t,void 0,void 0,(function(){var t,n,r;return e.__generator(this,(function(e){switch(e.label){case 0:return(null==(t=navigator.mediaDevices)?void 0:t.enumerateDevices)?(n=function(e){return e.slice(0,32).replace(/([,\\])/g,"\\$1")},r=function(e){return[n(e.deviceId),n(e.groupId),{audioinput:"ai",audiooutput:"ao",videoinput:"vi"}[e.kind],n(e.label)].join(",")},[4,t.enumerateDevices()]):[2,-1];case 1:return[2,e.sent().map(r)]}}))}))}))}function Ut(){var e;return null!==(e=navigator.doNotTrack)&&void 0!==e?e:void 0}function Bt(){var e;return null!==(e=window.devicePixelRatio)&&void 0!==e?e:void 0}function Vt(){var t=this;return c(n(75,-3),(function(){return e.__awaiter(t,void 0,void 0,(function(){var t,n,r,i;return e.__generator(this,(function(e){switch(e.label){case 0:if(!(t=navigator).requestMediaKeySystemAccess)return[2,-1];e.label=1;case 1:return e.trys.push([1,6,,7]),[4,t.requestMediaKeySystemAccess("org.w3.clearkey",[{initDataTypes:["keyids","webm"],audioCapabilities:["opus","vorbis"].map((function(e){return{contentType:'audio/webm; codecs="'+e+'"'}})),videoCapabilities:["vp9","vp8"].map((function(e){return{contentType:'video/webm; codecs="'+e+'"'}}))}])];case 2:return[4,e.sent().createMediaKeys()];case 3:return n=e.sent(),(r=n.createSession()).sessionId?[3,5]:[4,new Promise((function(e){r.onmessage=e,r.generateRequest("webm",new Uint8Array([1,1,1,1]))}))];case 4:e.sent(),e.label=5;case 5:return[2,r.sessionId];case 6:if("NotSupportedError"===(i=e.sent()).name)return[2,-2];throw i;case 7:return[2]}}))}))}))}function Gt(){var t=window.WebAssembly;if(null==t?void 0:t.validate){for(var n=[0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10],r=0,i=0,o=[[9,1,7,0,65,0,253,15,26,11,0,10,4,110,97,109,101,2,3,1,0,0],[240,67,0,0,0,12,1,10,0,252,2,3,1,1,0,0,110,26,11,161,10],[6,1,4,0,18,0,11,0,10,4,110,97,109,101,2,3,1,0,0],[8,1,6,0,65,0,192,26,11,0,10,4,110,97,109,101,2,3,1,0,0],[7,1,5,0,208,112,26,11,0,10,4,110,97,109,101,2,3,1,0,0]];i<o.length;i++){var a=o[i];r<<=1,r|=t.validate(Uint8Array.of.apply(Uint8Array,e.__spreadArrays(n,a)))?1:0}return r}}function Ht(){for(var e=[],t=Math.random(),n=24575;n>=0;--n)if(n%4096==0){var r=Math.random();e.push((t-r)*Math.pow(2,31)|0),t=r}return e}function Wt(){var t;return e.__awaiter(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return e.__generator(this,(function(c){switch(c.label){case 0:if(!(n=null===(t=window.crypto)||void 0===t?void 0:t.subtle)||!n.generateKey||!n.exportKey)return[2,-1];r=function(){return e.__awaiter(u,void 0,void 0,(function(){var t,r;return e.__generator(this,(function(e){switch(e.label){case 0:return[4,n.generateKey({name:"AES-GCM",length:128},!0,["encrypt"])];case 1:return t=e.sent(),[4,n.exportKey("raw",t)];case 2:return r=e.sent(),[2,new Uint8Array(r)]}}))}))},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all([r(),r()])];case 2:for(i=c.sent(),o=new Uint8Array(i[0].length),a=0;a<i[0].length;++a)o[a]=165^i[0][a]^i[1][a];return[2,y(o)];case 3:if("NotSupportedError"===(s=c.sent()).name)return[2,-2];throw s;case 4:return[2]}}))}))}function Kt(n){var r=this,i=n.delayFallback,o=e.__rest(n,["delayFallback"]),a=t.loadSources(function(){var e;return(e={})[0]=ot,e[1]=Lt,e}(),o,[]),s=t.prepareForSources(i).then((function(){t.sources.screenFrame;var n=e.__rest(t.sources,["screenFrame"]);return t.loadSources(e.__assign(e.__assign(e.__assign({},function(){var e;return(e={})[2]=Tt,e[3]=st,e[4]=nt,e[5]=t.getScreenFrame,e[8]=Ft,e[7]=Wt,e[6]=Vt,e[9]=Mt,e[10]=We,e[11]=Le,e[12]=je,e[13]=Me,e[14]=Fe,e[15]=Ue,e[16]=Be,e[17]=Ve,e[18]=He,e[19]=Ge,e[20]=Ke,e[21]=Xe,e[22]=$e,e[23]=Gt,e[24]=Ut,e[25]=it,e[26]=ct,e[27]=ft,e[28]=Ht,e[29]=vt,e[30]=gt,e[31]=St,e[32]=Bt,e[33]=t.isTrident,e[34]=t.isEdgeHTML,e[35]=t.isChromium,e[36]=t.isWebKit,e[37]=t.isDesktopSafari,e[38]=t.isGecko,e[39]=t.isAndroid,e[40]=qt,e}()),n),function(){var e;return(e={}).j=Et,e}()),o,[])}));return function(){return e.__awaiter(r,void 0,void 0,(function(){var t,n,r;return e.__generator(this,(function(i){switch(i.label){case 0:return[4,Promise.all([a(),s.then((function(e){return e()}))])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,e.__assign(e.__assign({},n),r)]}}))}))}}function Xt(e){for(var t=e+"=",n=0,r=document.cookie.split(";");n<r.length;n++){for(var i=r[n],o=0;" "===i[o]&&o<i.length;)++o;if(i.indexOf(t)===o)return i.slice(o+t.length)}}function $t(e,t,n,r){var i=e+"="+t,o="expires="+new Date(Date.now()+24*n*60*60*1e3).toUTCString(),a=r?"domain="+r:"";document.cookie=[i,"path=/",o,a,"SameSite=Lax"].join("; ")}function Jt(e,t,n){var r=location.hostname;(zt(r,(function(t){!function(e,t){$t(e,"",-1,t)}(e,t)})),n<0)||zt(r,(function(r){return $t(e,t,n,r),Xt(e)!==t}))&&$t(e,t,n)}function zt(e,t){var n=e.length;do{if(n=n>0?e.lastIndexOf(".",n-1):-1,!1===t(e.slice(n+1)))return!1}while(n>=0);return!0}function Yt(e){return[Xt(e),Zt(e)]}function Qt(e,t){Jt(t,e,365),function(e,t){var n;try{null===(n=null===localStorage||void 0===localStorage?void 0:localStorage.setItem)||void 0===n||n.call(localStorage,e,t)}catch(r){}}(t,e)}function Zt(e){var t,n;try{return null!==(n=null===(t=null===localStorage||void 0===localStorage?void 0:localStorage.getItem)||void 0===t?void 0:t.call(localStorage,e))&&void 0!==n?n:void 0}catch(r){}}function en(e,n){return{score:e[0]||e[1]?.999:n[25].value?.99:t.isGecko()&&U()?.9:t.getProConfidenceScore(n)}}function tn(e,t,n,r,i){if(!t){var o=function(e,t){return t||(Object.prototype.hasOwnProperty.call(ae,e)||(e="us"),"https://tls-"+ae[e]+".fpapi.io")}(e,n);return L(i,(function(){return{e:6,endpoint:o}})),[se(o,r,i),Date.now()]}}function nn(t,n,r,i,o,s,u,c){var l=this,f=function(t,n,c,f,g,h,m,_){return e.__awaiter(l,void 0,void 0,(function(){var l,p,b,w,y,R,E,T,k,S,I;return e.__generator(this,(function(O){switch(O.label){case 0:return l=a(f).then((function(){throw new Error("Client timeout")})),[4,Promise.race([l,Promise.all([v(_),d(f,c,_)])])];case 1:return p=O.sent(),b=p[0],w=p[1],R=u+"_t",E=Yt(y=u),T=Yt(R),[4,xe({token:r,endpoint:Pe(i,o),components:b,componentsDuration:0,customComponent:m,tag:t,visitorId:E,visitorToken:T,tls:w,linkedId:n,extendedResult:g,ipResolution:h,algorithm:s},l,_)];case 2:return k=O.sent(),S=k[0],(I=k[1])?Qt(I,R):S.visitorId&&Qt(S.visitorId,y),[2,e.__assign(e.__assign({},S),{confidence:S.confidence||en(T,b)})]}}))}))},d=function(t,r,i){return e.__awaiter(l,void 0,void 0,(function(){var o,s,u,c,l;return e.__generator(this,(function(e){switch(e.label){case 0:if(!n||r)return[2,void 0];o=n[0],s=n[1],u=Math.min(Math.max(.1*t,s+1e4-Date.now()),.4*t),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,o(a(u))];case 2:return c=e.sent(),L(i,(function(){return{e:7,result:c}})),[2,{value:c}];case 3:return l=e.sent(),L(i,(function(){return{e:8,error:l}})),[2,{error:l}];case 4:return[2]}}))}))},v=function(n){return e.__awaiter(l,void 0,void 0,(function(){var r,i;return e.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,t()];case 1:return r=e.sent(),L(n,(function(){return{e:13,result:r}})),[2,r];case 2:throw i=e.sent(),L(n,(function(){return{e:14,error:i}})),i;case 3:return[2]}}))}))};return{get:function(t){void 0===t&&(t={});var n=c&&function(t,n){return function(r){return t(e.__assign(e.__assign({},r),{getCallId:n}))}}(c,k(8));return j(n,(function(){return{e:3,options:t}}),(function(e){return{e:4,result:e}}),(function(e){return{e:5,error:e}}),(function(){var e=t.timeout,r=void 0===e?1e4:e,i=t.tag,o=t.linkedId,a=t.disableTls,s=t.extendedResult,u=t.ipResolution,c=t.environment;return f(i,E(o),a,r,s,u,c,n)}))}}}function rn(t,n,r){var i,o=this,a=I([null==r?void 0:r.debug,(i=/{(.*?)}/.exec(location.hash),!!i&&1915004642===function(e){for(var t=0,n=0;n<e.length;++n)t=(t<<5)-t+e.charCodeAt(n)|0;return t}(i[1])&&D())]),s=a&&function(t,n){return function(r){return t(e.__assign(e.__assign({},r),{agentId:n}))}}(a,k(8));return j(s,(function(){return{e:0,version:"3.5.3",options:r}}),(function(){return{e:1}}),(function(e){return{e:2,error:e}}),(function(){return e.__awaiter(o,void 0,void 0,(function(){var i,o,a,u,c,l,f,d,v,g,h;return e.__generator(this,(function(e){if(i=r.token,o=r.region,a=void 0===o?"us":o,u=r.tlsEndpoint,c=r.disableTls,l=r.storageKey,f=void 0===l?"_vid":l,d=r.endpoint,v=r.delayFallback,g=r.algorithm,!i||"string"!=typeof i)throw new Error("Token required");return h=tn(a,c,u,n,s),L(s,(function(){return{e:12}})),[2,nn(t({delayFallback:v,storageKeyPrefix:f}),h,i,a,d,E(g),f,s)]}))}))}))}var on=function(e){return rn(Kt,void 0,e)},an={load:on,ERROR_CLIENT_TIMEOUT:"Client timeout",ERROR_NETWORK_CONNECTION:"Network connection error",ERROR_NETWORK_ABORT:"Network request aborted",ERROR_WRONG_REGION:be,ERROR_SUBSCRIPTION_NOT_ACTIVE:we,ERROR_TOKEN_MISSING:"Token required",ERROR_TOKEN_INVALID:"Token not found",ERROR_TOKEN_EXPIRED:"Token expired",ERROR_BAD_REQUEST_FORMAT:"Request cannot be parsed",ERROR_BAD_RESPONSE_FORMAT:"Response cannot be parsed",ERROR_GENERAL_SERVER_FAILURE:"Request failed",ERROR_SERVER_TIMEOUT:"Request failed to process",ERROR_RATE_LIMIT:"Too many requests, rate limit exceeded",ERROR_FORBIDDEN_ORIGIN:"Not available for this origin",ERROR_FORBIDDEN_HEADER:"Not available with restricted header"};exports.ERROR_BAD_REQUEST_FORMAT="Request cannot be parsed",exports.ERROR_BAD_RESPONSE_FORMAT="Response cannot be parsed",exports.ERROR_CLIENT_TIMEOUT="Client timeout",exports.ERROR_FORBIDDEN_HEADER="Not available with restricted header",exports.ERROR_FORBIDDEN_ORIGIN="Not available for this origin",exports.ERROR_GENERAL_SERVER_FAILURE="Request failed",exports.ERROR_NETWORK_ABORT="Network request aborted",exports.ERROR_NETWORK_CONNECTION="Network connection error",exports.ERROR_RATE_LIMIT="Too many requests, rate limit exceeded",exports.ERROR_SERVER_TIMEOUT="Request failed to process",exports.ERROR_SUBSCRIPTION_NOT_ACTIVE=we,exports.ERROR_TOKEN_EXPIRED="Token expired",exports.ERROR_TOKEN_INVALID="Token not found",exports.ERROR_TOKEN_MISSING="Token required",exports.ERROR_WRONG_REGION=be,exports.default=an,exports.load=on,exports.makeConsoleDebugger=A,exports.makeDebugReportBuilder=B,exports.makeMulticastDebugger=I,exports.makeRemoteDebugger=Z;
